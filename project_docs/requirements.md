# 要件定義書

## 概要

Mac向けファイル整理・検索ツール

* Tauriアプリ（ローカル完結）
* 複数ディレクトリ対応 / 高速ファイル・ディレクトリ検索 / 柔軟なタグ分類
* ファイル情報 / メタ情報の確認、変更

## 解決したい課題

* 複数のディレクトリにまたがる大量のファイルを一元管理したい
* Finderでは不十分な分類・タグ管理を柔軟に行いたい
* ファイル名やタグで瞬時に目的のファイルにたどり着きたい

## 技術要件

|         項目         |                              内容                              |
| :------------------: | :------------------------------------------------------------: |
|       動作環境       |                    macOS（ローカルで完結）                     |
|       言語          |    Rust（backend） + TypeScript（frontend）    |
|     フレームワーク    |  Tauri + SvelteKit               |
|     データベース     |               SQLite（SQLx）                                 |
| マイグレーション管理 |           tauri-plugin-sqlによる自動マイグレーション           |
|   スケーラビリティ   |         数万ファイルまで快適に動作（非同期処理で対応）         |
|     プライバシー     | ファイル内容・タグ情報はすべてローカル保存のみ（外部送信なし） |

##  機能要件

### ファイル管理

* 任意の複数ディレクトリを管理対象として登録
* 各ディレクトリ配下のファイルを一括で取得・保存
* ファイルの存在確認（削除・移動されたファイルも追跡）
* ファイルをカテゴリごとに一覧で確認できる
* ファイル名や作成日時、最終変更日時などでソートできる

### タグ・分類

* ファイルごとに自由なタグを付与・編集・削除できる
* タグは複数付けられる（多対多）
* タグの一覧表示・新規作成・削除が可能

### 検索・フィルタ

* ファイル名による部分一致・ファジー検索（Fuse.js）
* タグによる絞り込み（AND / OR 指定）
* 並べ替え：名前順 / 作成日順 / 更新日順 など

### ファイル操作

* ファイルの削除・移動（OSファイルシステム上でも反映）
* Finderでの表示、右クリックメニュー連携（macOS）

###  ファイル変化の追跡

* アプリ起動中はファイル移動・削除・変更をリアルタイム監視
* アプリ起動時にフルスキャン → 前回状態と照合
* 移動 / 削除 / 新規追加を検出
* アプリケーション外のファイル移動等にも対応できるように inode + birthtime による同一ファイル判定
